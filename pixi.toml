[project]
name = "pydiverse-pidepag"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]  # "linux-aarch64",

[dependencies]
python = ">=3.9"
pandas = ">=1.4.3, <3"
SQLAlchemy = ">=1.4.39, <3"
typing-extensions = ">=4.1.0"
networkx = ">=2.8"
attrs = ">=22.1.0"
structlog = ">=22.1.0"
pynng = ">=0.7.1"
msgpack-python = ">=1.0.4"
packaging = ">=21.3"
python-box = ">=6.1.0"
PyYAML = ">=6.0"
pyarrow = ">=11.0.0"
cryptography = ">=41.0.1"
pydot = ">=1.4.2"
click = ">=8.1.3"
pyparsing = ">=3.0"

[feature.filelock.dependencies]
filelock = ">=3.7.1"

[feature.zookeeper.dependencies]
kazoo = ">=2.8.0"

[feature.dask.dependencies]
dask = ">=2022.1.0"

[feature.prefect.dependencies]
prefect = ">=2.6"
pytz = ">=2023.3"
pytzdata = ">=2020.1"

[feature.snowflake.dependencies]
snowflake-sqlalchemy = ">=1.6.1"

[feature.dev.dependencies]
pytest = ">=7.2.0"
pytest-mock = ">=3.10.0"
pytest-timeout = ">=2.1.0"
ruff = ">=0.5.1"
pre-commit = ">=3.7.1"
psycopg2 = ">=2.9.3"
duckdb = ">=0.8.1"
duckdb-engine = ">=0.7.3"
pixi-pycharm = "*"

[feature.all-tests.dependencies]
# Table Hooks
pydiverse-transform = ">=0.1.3, <0.2"
ibis-framework = ">=5.1.0, <9"
ibis-mssql = ">=5.1.0, <9"
ibis-postgres = ">=5.1.0, <9"
polars = ">=0.18.12"
tidypolars = ">=0.2.19"
connectorx = ">=0.3.1"
# MSSQL
pyodbc = ">=4.0.35"
pytsql = ">=1.1.4"

[feature.all-tests.target.linux.dependencies]
# IBM DB2
ibm_db = ">=3.1.4"
ibm_db_sa = ">=0.3.8"

[feature.all-tests.target.win.dependencies]
# IBM DB2
ibm_db = ">=3.1.4"
ibm_db_sa = ">=0.3.8"

[feature.docs.dependencies]
Sphinx = ">=7.3.7"
furo = ">=2023.5.20"
sphinxcontrib-apidoc = ">=0.3.0"
myst-parser = ">=2.0.0"
sphinx-click = ">=4.4.0"
sphinx-autobuild = ">=2021.3.14"
sphinx-copybutton = ">=0.5.2"

[feature.py39.dependencies]
python = "3.9.*"
[feature.py310.dependencies]
python = "3.10.*"
[feature.py311.dependencies]
python = "3.11.*"
[feature.py312.dependencies]
python = "3.12.*"
[feature.pd1.dependencies]
pandas = ">=1.4.3, <2"
[feature.pd2.dependencies]
pandas = ">=2"
[feature.sa1.dependencies]
sqlalchemy = ">=1.4.39, <2"
[feature.sa2.dependencies]
sqlalchemy = ">=2"

[environments]
default = ["dev", "zookeeper", "pd2", "sa2"]
all-tests = ["all-tests", "dev", "filelock", "zookeeper", "dask", "prefect", "pd2", "sa2", "snowflake"]
docs = ["docs"]
py39 = ["py39", "dev", "zookeeper"]
py310 = ["py310", "dev", "zookeeper"]
py311 = ["py311", "dev", "zookeeper"]
py312 = ["py312", "dev", "zookeeper"]
py39pdsa1 = ["py39", "dev", "zookeeper", "pd1", "sa1"]
py311pdsa1 = ["py311", "dev", "zookeeper", "pd1", "sa1", "snowflake"]
